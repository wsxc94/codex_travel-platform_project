<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JapanTravel Suite</title>
    <link rel="stylesheet" href="/styles.css" />
    <link rel="manifest" href="/manifest.webmanifest" />
  </head>
  <body>
    <div class="bg-layer"></div>
    <header class="top">
      <div>
        <h1>JapanTravel Suite</h1>
        <p>AI기반 여행지,항공권,맛집 추천</p>
      </div>
    </header>

    <main class="layout">
      <section class="panel">
        <h2>여행 조건</h2>
        <div class="fields two">
          <label class="form-item"><span>여행 지역</span>
            <select id="city"></select>
          </label>
          <label class="form-item"><span>출발 날짜</span><input id="startDate" type="date" /></label>
          <label class="form-item"><span>여행 일수</span><input id="days" type="number" min="1" max="10" value="4" /></label>
          <label class="form-item"><span>여행 테마</span>
            <select id="theme">
              <option value="mixed" selected>밸런스</option>
              <option value="foodie">미식</option>
              <option value="culture">문화</option>
              <option value="shopping">쇼핑</option>
              <option value="nature">자연</option>
            </select>
          </label>
          <label class="form-item"><span>예산 타입</span>
            <select id="budget">
              <option value="low">절약형</option>
              <option value="mid" selected>표준형</option>
              <option value="high">프리미엄형</option>
            </select>
          </label>
          <button id="btnPlan">추천+AI일정 통합 생성</button>
        </div>
      </section>

      <section class="panel">
        <h2>추천 결과</h2>
        <div class="split">
          <div>
            <h3>추천 여행지</h3>
            <div id="destCards" class="cards"></div>
          </div>
        <div>
          <h3>AI 일정</h3>
          <div id="planSourceLabel" class="source-note"></div>
          <div id="planSourceNote" class="source-note warn"></div>
          <div class="plan-controls">
            <button id="btnPlanRefresh" type="button" class="ghost-btn">AI 일정 새로고침</button>
            <div class="plan-control-copy">선택된 항공·숙소를 유지하고 싶다면 버튼으로 AI 일정만 다시 요청하세요.</div>
          </div>
          <div id="planSelectionCards" class="selection-card-grid"></div>
          <pre id="planResult" class="result"></pre>
        </div>
        </div>
      </section>

      <section class="panel">
        <h2>맛집 탐색</h2>
        <div class="fields three">
          <label class="form-item"><span>도시</span>
            <select id="foodCity"></select>
          </label>
          <label class="form-item"><span>장르</span><input id="foodGenre" placeholder="장르 (예: 라멘)" /></label>
          <label class="form-item"><span>예산</span><select id="foodBudget">
              <option value="low">가성비</option>
              <option value="mid" selected>중간</option>
              <option value="high">고급</option>
            </select></label>
          <button id="btnFood">맛집 검색</button>
        </div>
        <div id="foodCards" class="cards"></div>
      </section>

      <section class="panel">
        <h2>항공권 탐색</h2>
        <p class="note">실시간 데이터가 아닌 참고용 데이터 입니다.</p>
        <div class="tabs" id="tripTabs">
          <button type="button" class="tab active" data-trip="oneway">편도</button>
          <button type="button" class="tab" data-trip="roundtrip">왕복</button>
          <button type="button" class="tab" data-trip="multicity">다구간</button>
        </div>
        <div class="fields three">
          <label class="form-item basic-route"><span>출발 공항</span><div class="airport-wrap">
            <input id="from" class="airport-input" value="ICN" placeholder="출발 공항" autocomplete="off" />
            <div class="airport-suggest"></div>
          </div></label>
          <label class="form-item basic-route"><span>도착 공항</span><div class="airport-wrap">
            <input id="to" class="airport-input" placeholder="도착 공항 (비우면 도시 기준)" autocomplete="off" />
            <div class="airport-suggest"></div>
          </div></label>
          <label class="form-item basic-route"><span>출발일</span><input id="departDate" type="date" /></label>
          <label class="form-item basic-route"><span>복귀일(왕복)</span><input id="returnDate" type="date" /></label>
          <label class="form-item"><span>추천 기준</span><select id="flightPreference">
              <option value="balanced" selected>가격/시간 균형</option>
              <option value="cheap">최저가 우선</option>
              <option value="fast">최단시간 우선</option>
            </select></label>
          <button id="btnFlights">항공권 검색</button>
        </div>
        <div id="multiWrap" class="multi-wrap hidden">
          <p class="multi-help">다구간은 아래 구간을 직접 편집해서 검색합니다. 최소 2개 구간이 필요합니다.</p>
          <div class="segment-head">
            <span>출발</span>
            <span>도착</span>
            <span>날짜</span>
            <span>삭제</span>
          </div>
          <div id="segmentRows" class="segment-rows"></div>
          <div class="segment-actions">
            <button id="addSegment" type="button">구간 추가</button>
            <button id="resetSegments" type="button">초기화</button>
          </div>
        </div>
        <details class="filter-tab">
          <summary>필터 탭</summary>
          <div class="fields three filter-grid">
            <label class="form-item"><span>최소 가격(원)</span><input id="priceMin" type="number" min="0" step="10000" value="0" placeholder="최소 가격" /></label>
            <label class="form-item"><span>최대 가격(원)</span><input id="priceMax" type="number" min="0" step="10000" value="900000" placeholder="최대 가격" /></label>
            <label class="form-item"><span>출발 최소 시</span><input id="hourMin" type="number" min="0" max="23" value="0" placeholder="출발 최소 시" /></label>
            <label class="form-item"><span>출발 최대 시</span><input id="hourMax" type="number" min="0" max="23" value="23" placeholder="출발 최대 시" /></label>
            <label class="form-item"><span>공항 필터(콤마)</span><input id="airportFilter" placeholder="공항 코드 콤마 (예: ICN,NRT)" /></label>
            <label class="form-item"><span>항공사 필터(콤마)</span><input id="airlineFilter" placeholder="항공사 콤마 (예: Korean Air,ANA)" /></label>
          </div>
          <div class="checks">
            <div>
              <strong>공항 체크</strong>
              <div id="airportChecks" class="check-list"></div>
            </div>
            <div>
              <strong>항공사 체크</strong>
              <div id="airlineChecks" class="check-list"></div>
            </div>
          </div>
        </details>
        <div class="sort-tabs" id="flightSortTabs">
          <button type="button" class="sort-tab active" data-sort="recommended">추천순</button>
          <button type="button" class="sort-tab" data-sort="price">최저가순</button>
          <button type="button" class="sort-tab" data-sort="duration">최단시간순</button>
        </div>
        <div id="flightSourceNote" class="source-note"></div>
        <div id="flightCards" class="cards"></div>
        <div class="more-wrap">
          <button id="btnFlightMore" type="button" class="more-btn hidden">더보기</button>
        </div>
      </section>

      <section class="panel">
        <h2>숙소 탐색</h2>
        <p class="note">실시간 데이터가 아닌 참고용 데이터 입니다.</p>
        <div class="fields three">
          <label class="form-item"><span>도시</span>
            <select id="stayCity"></select>
          </label>
          <label class="form-item"><span>체크인</span><input id="checkIn" type="date" /></label>
          <label class="form-item"><span>체크아웃</span><input id="checkOut" type="date" /></label>
          <label class="form-item"><span>인원</span><input id="stayGuests" type="number" min="1" max="8" value="2" /></label>
          <label class="form-item"><span>객실 수</span><input id="stayRooms" type="number" min="1" max="5" value="1" /></label>
          <label class="form-item"><span>정렬</span><select id="stayPreference">
              <option value="balanced" selected>추천순</option>
              <option value="price">최저가순</option>
              <option value="rating">평점순</option>
            </select></label>
          <button id="btnStays">숙소 검색</button>
        </div>
        <details class="filter-tab">
          <summary>필터 탭</summary>
          <div class="fields three filter-grid">
            <label class="form-item"><span>최소 가격(원)</span><input id="stayPriceMin" type="number" min="0" step="10000" value="60000" /></label>
            <label class="form-item"><span>최대 가격(원)</span><input id="stayPriceMax" type="number" min="0" step="10000" value="450000" /></label>
            <label class="form-item"><span>최소 평점</span><input id="stayRatingMin" type="number" min="0" max="10" step="0.1" value="7.5" /></label>
            <label class="form-item"><span>숙소 타입</span><select id="stayType">
                <option value="" selected>전체</option>
                <option value="hotel">호텔</option>
                <option value="ryokan">료칸</option>
                <option value="apartment">레지던스</option>
                <option value="guesthouse">게스트하우스</option>
              </select></label>
          </div>
          <div class="checks">
            <div>
              <strong>예약사 체크</strong>
              <div id="stayProviderChecks" class="check-list"></div>
            </div>
            <div>
              <strong>부대시설</strong>
              <div id="stayAmenityChecks" class="check-list"></div>
            </div>
          </div>
        </details>
        <div id="staySourceNote" class="source-note"></div>
        <div id="stayCards" class="cards"></div>
      </section>

    </main>

    <script src="/app.js"></script>
  </body>
</html>
